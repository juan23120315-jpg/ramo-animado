<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ramo para mi ni침a hermosa</title>

  <!-- CSS principal -->
  <link rel="stylesheet" href="styles.css">

  <!-- Fuente Allura -->
  <link href="https://fonts.googleapis.com/css2?family=Allura&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Lienzo de estrellas -->
  <canvas id="stars"></canvas>

  <!-- Efecto de noche (para tu dise침o) -->
  <div class="night"></div>

  <!-- Dise침o de flores personalizado -->
  <div class="flowers">
    <div class="flower flower--1">
      <div class="flower__leafs flower__leafs--1">
        <div class="flower__leaf flower__leaf--1"></div>
        <div class="flower__leaf flower__leaf--2"></div>
        <div class="flower__leaf flower__leaf--3"></div>
        <div class="flower__leaf flower__leaf--4"></div>
        <div class="flower__white-circle"></div>

        <div class="flower__light flower__light--1"></div>
        <div class="flower__light flower__light--2"></div>
        <div class="flower__light flower__light--3"></div>
        <div class="flower__light flower__light--4"></div>
        <div class="flower__light flower__light--5"></div>
        <div class="flower__light flower__light--6"></div>
        <div class="flower__light flower__light--7"></div>
        <div class="flower__light flower__light--8"></div>
      </div>
      <div class="flower__line">
        <div class="flower__line__leaf flower__line__leaf--1"></div>
        <div class="flower__line__leaf flower__line__leaf--2"></div>
        <div class="flower__line__leaf flower__line__leaf--3"></div>
        <div class="flower__line__leaf flower__line__leaf--4"></div>
        <div class="flower__line__leaf flower__line__leaf--5"></div>
        <div class="flower__line__leaf flower__line__leaf--6"></div>
      </div>
    </div>

    <div class="flower flower--2">
      <div class="flower__leafs flower__leafs--2">
        <div class="flower__leaf flower__leaf--1"></div>
        <div class="flower__leaf flower__leaf--2"></div>
        <div class="flower__leaf flower__leaf--3"></div>
        <div class="flower__leaf flower__leaf--4"></div>
        <div class="flower__white-circle"></div>

        <div class="flower__light flower__light--1"></div>
        <div class="flower__light flower__light--2"></div>
        <div class="flower__light flower__light--3"></div>
        <div class="flower__light flower__light--4"></div>
        <div class="flower__light flower__light--5"></div>
        <div class="flower__light flower__light--6"></div>
        <div class="flower__light flower__light--7"></div>
        <div class="flower__light flower__light--8"></div>
      </div>
      <div class="flower__line">
        <div class="flower__line__leaf flower__line__leaf--1"></div>
        <div class="flower__line__leaf flower__line__leaf--2"></div>
        <div class="flower__line__leaf flower__line__leaf--3"></div>
        <div class="flower__line__leaf flower__line__leaf--4"></div>
      </div>
    </div>

    <div class="flower flower--3">
      <div class="flower__leafs flower__leafs--3">
        <div class="flower__leaf flower__leaf--1"></div>
        <div class="flower__leaf flower__leaf--2"></div>
        <div class="flower__leaf flower__leaf--3"></div>
        <div class="flower__leaf flower__leaf--4"></div>
        <div class="flower__white-circle"></div>

        <div class="flower__light flower__light--1"></div>
        <div class="flower__light flower__light--2"></div>
        <div class="flower__light flower__light--3"></div>
        <div class="flower__light flower__light--4"></div>
        <div class="flower__light flower__light--5"></div>
        <div class="flower__light flower__light--6"></div>
        <div class="flower__light flower__light--7"></div>
        <div class="flower__light flower__light--8"></div>
      </div>
      <div class="flower__line">
        <div class="flower__line__leaf flower__line__leaf--1"></div>
        <div class="flower__line__leaf flower__line__leaf--2"></div>
        <div class="flower__line__leaf flower__line__leaf--3"></div>
        <div class="flower__line__leaf flower__line__leaf--4"></div>
      </div>
    </div>

    <!-- Resto de tu dise침o de hierbas, tallos y hojas... -->

  </div>

  <!-- Mensaje final -->
  <div class="message">Estas flores amarillas son para ti</div>

  <!-- Bot칩n para reproducir m칰sica si falla el autoplay -->
  <button id="playMusic">游꿧 Reproducir m칰sica</button>

  <!-- M칰sica de fondo -->
  <audio id="bg-music" loop>
    <source src="music.mp3" type="audio/mpeg">
    Tu navegador no soporta audio.
  </audio>

  <script>
    // --- Lienzo de estrellas ---
    const canvas = document.getElementById('stars');
    const ctx = canvas.getContext('2d');
    let w, h;
    function resize() {
      w = canvas.width = window.innerWidth;
      h = canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    const stars = Array.from({ length: 200 }, () => ({
      x: Math.random() * w,
      y: Math.random() * h,
      r: Math.random() * 1.5,
      o: Math.random()
    }));

    function shootingStar() {
      return {
        x: Math.random() * w,
        y: Math.random() * h / 2,
        len: Math.random() * 80 + 40,
        speed: Math.random() * 8 + 4,
        life: 0,
        maxLife: 80
      };
    }
    let meteors = [];

    function draw() {
      ctx.fillStyle = '#000';
      ctx.fillRect(0, 0, w, h);
      ctx.fillStyle = '#fff';
      stars.forEach(s => {
        ctx.globalAlpha = s.o;
        ctx.beginPath();
        ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
        ctx.fill();
      });
      ctx.globalAlpha = 1;
      if (Math.random() < 0.02) meteors.push(shootingStar());
      meteors.forEach(m => {
        ctx.strokeStyle = '#fff';
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.moveTo(m.x, m.y);
        ctx.lineTo(m.x - m.len, m.y + m.len / 2);
        ctx.stroke();
        m.x += m.speed;
        m.y -= m.speed / 2;
        m.life++;
      });
      meteors = meteors.filter(m => m.life < m.maxLife);
      requestAnimationFrame(draw);
    }
    draw();

    // --- Animaci칩n de tus flores (usa la clase .flower) ---
    document.querySelectorAll('.flower').forEach((f, i) => {
      // inicia opacas y en peque침a escala
      f.style.opacity = 0;
      f.style.transform = 'scale(0)';
      setTimeout(() => {
        f.style.transition = 'transform 1.2s ease-out, opacity 1.2s ease-out';
        f.style.opacity = 1;
        f.style.transform = 'scale(1)';
        // tras florecer, aplica sway
        setTimeout(() => f.classList.add('sway'), 1500);
      }, 3000 + i * 800);
    });

    // --- Mostrar mensaje al final ---
    const msg = document.querySelector('.message');
    msg.style.opacity = 0;
    msg.style.transform = 'translateY(20px)';
    setTimeout(() => {
      msg.style.transition = 'opacity 1.5s ease-out, transform 1.5s ease-out';
      msg.style.opacity = 1;
      msg.style.transform = 'translateY(0)';
    }, 6000);

    // --- M칰sica ---
    const music = document.getElementById('bg-music');
    const playBtn = document.getElementById('playMusic');
    playBtn.style.display = 'none';
    music.play().catch(() => {
      playBtn.style.display = 'block';
    });
    playBtn.addEventListener('click', () => {
      music.play();
      playBtn.style.display = 'none';
    });
  </script>
</body>
</html>
